<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>AIDS and HIV In Hawaii</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="echarts.js"></script>

    <!-- Graph sheets -->
    <script src="plotly-latest.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>


    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>

    <!-- Plugin CSS -->
    <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/creative.min.css" rel="stylesheet">
    <link href="css/creative.css" rel="stylesheet">

</head>

<body id="page-top">

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="#page-top">HIV in Hawaii</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="#sociodemographics">Sociodemographics</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="#serviceAccess">Access to Services</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="#services">Primary Care</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="#portfolio">Substance Abuse</a>
                </li>
				<li class = "nav-item">
					<a class ="nav-link js-scroll-trigger" href= "#map">Case Management Locations</a>
				</li>
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="#contact">Contact & Credits</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<header class="masthead text-center text-white d-flex">
    <div class="container my-auto">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h1 class="text-uppercase">
                    <strong>AIDS and HIV In Hawaii</strong>
                </h1>
                <hr>
            </div>
            <div class="col-lg-8 mx-auto">
                <p class="text-faded mb-5">[Background on study]<br>[What this study aims to achieve]<br>[Questions being asked and answered]</p>
                <a class="btn btn-primary btn-xl js-scroll-trigger" href="#about">Results of HIV and AIDS needs assessment in Hawaii</a>
            </div>
        </div>
    </div>
</header>

<!--Sociodemographics Section-->
<section id = "sociodemographics">
    <div class="container">
        <div class="row">
            <div class="col-xl-12 mx-auto text-center">
                <h2 class="section-heading">Sociodemographics</h2>
                <h4 class="section-heading">Comparisons of the HIV Needs Assessment's sociodemographic data to <br>
                    <a href="https://health.hawaii.gov/harmreduction/files/2013/05/2015-Epi-Profile.pdf">Hawaii's HIV/AIDS 2015 Epidemiologic Profile</a>
                </h4>
                <br>
                    <ul class="nav nav-pills nav-justified">
                        <li class="nav-item pill-1" style="text-align: center">
                            <a class="nav-link active" data-toggle="tab" href="#ageTab">Age</a>
                        </li>
                        <li class="nav-item pill-2">
                            <a class="nav-link" data-toggle="tab" href="#caseManagementTab">Case Management</a>
                        </li>
                        <li class="nav-item pill-3">
                            <a class="nav-link" data-toggle="tab" href="#disabilityTab">Disability</a>
                        </li>
                        <li class="nav-item pill-4">
                            <a class="nav-link" data-toggle="tab" href="#drugUseTab">Drugs</a>
                        </li>
                        <li class="nav-item pill-5">
                            <a class="nav-link" data-toggle="tab" href="#educationTab">Education</a>
                        </li>
                        <li class="nav-item pill-6">
                            <a class="nav-link" data-toggle="tab" href="#incomeTypeTab">Income</a>
                        </li>
                        <li class="nav-item pill-7">
                            <a class="nav-link" data-toggle="tab" href="#methodOfTransmissionTab">Method of Transmission</a>
                        </li>
                        <li class="nav-item pill-8">
                            <a class="nav-link" data-toggle="tab" href="#raceTab">Race</a>
                        </li>
                        <li class="nav-item pill-9">
                            <a class="nav-link" data-toggle="tab" href="#sexualOrientationTab">Sexual Orientation</a>
                        </li>
                    </ul>

                    <div class="tab-content mt-3">
                        <div class="tab-pane fade show active" id="ageTab" role="tabpanel">
                            <div class="row justify-content-center">
                                <div id="ageSurvey" style="height: 500px; width: 500px; float: left"></div>
                                <div id="ageProfile" style="height: 500px; width: 500px; float: right"></div>
                            </div>
                            <h4 class="section-heading-discrepancy">
                                There is a large discrepancy between the HIV Needs Assessment and the Epi Profile.
                                The HIV Needs Assessment has a much larger amount of people 55 and over, and a much
                                smaller amount under 44 compared to the Epi Profile.
                            </h4>
                        </div>
                        <div class="tab-pane fade" id="caseManagementTab" role="tabpanel">
                            <div class="row justify-content-center">
                                <div id="caseManagementSurvey" style="height: 500px; width: 500px; float: left"></div>
                                <div id="caseManagementProfile" style="height: 500px; width: 500px; float: right"></div>
                            </div>
                            <h4 class="section-heading" style="color: #F05F40">Placeholder Text 2</h4>
                        </div>
                        <div class="tab-pane fade" id="disabilityTab" role="tabpanel">
                            <div class="row justify-content-center">
                                <div id="disabilitySurvey" style="height: 500px; width: 500px; float: left"></div>
                                <div id="disabilityProfile" style="height: 500px; width: 500px; float: right"></div>
                            </div>
                            <h4 class="section-heading" style="color: #F05F40">Placeholder Text 3</h4>
                        </div>
                        <div class="tab-pane fade" id="drugUseTab" role="tabpanel">
                            <div class="row justify-content-center">
                                <div id="drugUseSurvey" style="height: 500px; width: 500px; float: left"></div>
                                <div id="drugUseProfile" style="height: 500px; width: 500px; float: right"></div>
                            </div>
                            <h3 class="section-heading" style="color: #F05F40">Placeholder Text 4</h3>
                        </div>
                        <div class="tab-pane fade" id="educationTab" role="tabpanel">
                            <div class="row justify-content-center">
                                <div id="educationSurvey" style="height: 500px; width: 500px; float: left"></div>
                                <div id="educationProfile" style="height: 500px; width: 500px; float: right"></div>
                            </div>
                            <h3 class="section-heading" style="color: #F05F40">Placeholder Text 5</h3>
                        </div>
                        <div class="tab-pane fade" id="incomeTypeTab" role="tabpanel">
                            <div class="row justify-content-center">
                                <div id="incomeTypeSurvey" style="height: 500px; width: 500px; float: left"></div>
                                <div id="incomeTypeProfile" style="height: 500px; width: 500px; float: right"></div>
                            </div>
                            <h3 class="section-heading">Placeholder Text 6</h3>
                        </div>
                        <div class="tab-pane fade" id="methodOfTransmissionTab" role="tabpanel">
                            <div class="row justify-content-center">
                                <div id="methodOfTransmissionSurvey" style="height: 500px; width: 500px; float: left"></div>
                                <div id="methodOfTransmissionProfile" style="height: 500px; width: 500px; float: right"></div>
                            </div>
                            <h3 class="section-heading" style="color: #F05F40">Placeholder Text 7</h3>
                        </div>
                        <div class="tab-pane fade" id="sexualOrientationTab" role="tabpanel">
                            <div class="row justify-content-center">
                                <div id="sexualOrientationSurvey" style="height: 500px; width: 500px; float: left"></div>
                                <div id="sexualOrientationProfile" style="height: 500px; width: 500px; float: right"></div>
                            </div>
                            <h3 class="section-heading">Placeholder Text 8</h3>
                        </div>
                        <div class="tab-pane fade" id="raceTab" role="tabpanel">
                            <div class="row justify-content-center">
                                <div id="raceSurvey" style="height: 500px; width: 500px; float: left"></div>
                                <div id="raceProfile" style="height: 500px; width: 500px; float: right"></div>
                            </div>
                            <h3 class="section-heading" style="color: #F05F40">Placeholder Text 9</h3>
                        </div>
                    </div>

            </div>
        </div>
    </div>
</section>

<script src="Sociodemographics.js"></script>

<!-- Bar chart of services -->
<br><br>
<section class="bg-primary" id="serviceAccess">
    <div class="fluid-container" style="background-color: white">
        <h2 class="section-heading text-center">Access to Services</h2>
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <div class="container">
                    <canvas id="myBarChart"></canvas>
                </div>

                &nbsp;&nbsp;&nbsp;&nbsp;

                <div class="container" style="border: 2px solid rgb(188, 188, 188)">
                    &nbsp;

                    <div style="text-align: center" id="instructions"><p>
                        While it can be difficult for patients with AIDS/HIV to find and access good care, in Hawaii many people are able to obtain the services they need for the most part. However, there is still a long way to go to ensure that all patients are able to get the services to live a better life.
                        <br><br> Click on a section of the bar chart for more information</p>
                        <p>n = 398</p></div>

                    <div id="hivDesc">
                        HIV Case management description
                    </div>

                    <div id="dentalDesc">
                        Dental description
                    </div>

                    <div id="counselingDesc">
                        Counseling description
                    </div>

                    <div id="infoDesc">
                        Info description
                    </div>

                    <div id="altTherapyDesc">
                        Alt Therapy description
                    </div>

                    <div id="homeAidDesc">
                        Home Aid description
                    </div>

                    <div id="insuranceDesc">
                        Insurance description
                    </div>

                    <div id="medDesc">
                        Med description
                    </div>

                    <div id="abuseDesc">
                        Drug/Alcohol abuse description
                    </div>

                    <div id="socialDesc">
                        Social description
                    </div>

                    <div id="jobDesc">
                        Employment description
                    </div>

                    <div id="eduDesc">
                        Education description
                    </div>

                    <div id="foodDesc">
                        Food description
                    </div>

                    <div id="housingDesc">
                        Housing description
                    </div>

                    <div id="billsDesc">
                        Bills description
                    </div>

                    &nbsp;
                </div>            </div>
        </div>
        <br><br>
    </div>
</section>

<script src="bar.js"></script>



<section id="services">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2 class="section-heading">Fortunately, most HIV patients surveyed had access to primary care</h2>
                <hr class="light my-4">
                <p class="text-faded mb-4">
                <div align="center" id="primaryCare"></div>

                <p>
                    <a class="btn btn-primary" data-toggle="collapse" href="#collapseExample2" role="button" aria-expanded="false" aria-controls="collapseExample">
                        Ethnicity
                    </a>
                    <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample3" aria-expanded="false" aria-controls="collapseExample">
                        Education Level
                    </button>
                </p>
                <div class="collapse" id="collapseExample2">
                    <div class="card card-body">
                        <div align="center" id="primaryRace"></div>
                    </div>
                </div>
                <div class="collapse" id="collapseExample3">
                    <div class="card card-body">
                        <div align="center" id="primaryEducation"></div>
                    </div>
                </div>
                </p>
            </div>
        </div>
    </div>
</section>

<section style="background-color: #F05F40" class="p-0" id="portfolio">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <br><br><br>
                <h2 class="section-heading text-white">For some, substance abuse is a very real problem</h2>
                <hr class="light my-4">
                <p class="text-faded mb-4">

                <!-- Insert Main Chart Here -->
                <div align="center" id="substance"></div>

                <p>
                    <a class="btn btn-primary" data-toggle="collapse" href="#collapseExample5" role="button" aria-expanded="false" aria-controls="collapseExample">
                        Ethnicity
                    </a>
                    <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample6" aria-expanded="false" aria-controls="collapseExample">
                        Education Level
                    </button>
                </p>
                <div class="collapse" id="collapseExample5">
                    <div class="card card-body">
                        <!-- Ethnicity chart -->
                        <div align="center" id="substanceRace"></div>
                    </div>
                </div>
                <div class="collapse" id="collapseExample6">
                    <div class="card card-body">
                        <!-- Education level chart -->
                        <div align="center" id="substanceEducation"></div>
                    </div>
                </div>


                </p>
            </div>
        </div>
    </div>
</section>

<!--<section class="bg-dark text-white">-->
    <!--<div class="container text-center">-->
        <!--<h2 class="mb-4">Free Download at Start Bootstrap!</h2>-->
        <!--<a class="btn btn-light btn-xl sr-button" href="http://startbootstrap.com/template-overviews/creative/">Download Now!</a>-->
    <!--</div>-->
<!--</section>-->
<section id = "map">
<div id = 'myDiv5'></div>
</section>

<section id="contact">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="section-heading">Contact Information and Credit</h2>
                <hr class="my-4">
                <p class="mb-5">Visualizations created by Angela Zheng</p>
                <p class="mb-5">Data collected and compiled by Joy Agner</p>
            </div>
        </div>
        <div align="center" class="row">
            <div class="col-lg-4 mr-auto text-center">
                <i class="fas fa-envelope fa-3x mb-3 sr-contact-2"></i>
                <p>
                    <a href="mailto:your-email@your-domain.com">awy@hawaii.edu</a>
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Bootstrap core JavaScript -->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Plugin JavaScript -->
<script src="vendor/jquery-easing/jquery.easing.min.js"></script>
<script src="vendor/scrollreveal/scrollreveal.min.js"></script>
<script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

<!-- Custom scripts for this template -->
<script src="js/creative.min.js"></script>

</body>

<!--Mental Health Charts-->
<script>

    //    MENTAL HEALTH GENERAL //
    // General Bar
    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/AIDSHIVData/master/mentalhealthgeneral.csv", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                x: cellVals[0],
                y: cellVals[1],
                name: 'Mental Health Problem',
                type: 'bar',
                marker: {
                    color: 'rgba(86, 180, 233, 0.85)'
                }
            }
        ];

        var layout = {
            title: "Mental Health Issues",
            height: 500,
            width: 500,
            xaxis: { title: 'Issue'},
            yaxis: { title: 'Number of People'},
            barmode: 'stack'
        }

        Plotly.newPlot('mentalHealthBar', data, layout);
    });

    // General Bar

    //    END MENTAL HEALTH GENERAL //

    //    MENTAL HEALTH VERSUS RACE //
    // DEPRESSION
    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/AIDSHIVData/master/depressionRace.csv", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                values: cellVals[1],
                labels: cellVals[0],
                type: 'pie',
//                marker: {
//                    colors: ['rgb: 230,159,0', 'rgb: 86,180,233','rgb: 0,158,115','rgb: 240,228,66','rgb: 0,114,178','rgb: 213,94,0','rgb: 204,121,167','rgb: 0,50,100','rgb: 0,50,100']
//                }
            }
        ];

        var layout = {
            title: "Depression in AIDS Patients by Race",
            height: 400,
            width: 500,
        }

        Plotly.newPlot('mentalHealthDepression', data, layout);
    });

    // ANXIETY
    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/AIDSHIVData/master/anxietyRace.csv", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                values: cellVals[1],
                labels: cellVals[0],
                type: 'pie',
//                marker: {
//                    colors: ['rgb: 230,159,0', 'rgb: 86,180,233','rgb: 0,158,115','rgb: 240,228,66','rgb: 0,114,178','rgb: 213,94,0','rgb: 204,121,167','rgb: 0,50,100','rgb: 0,50,100']
//                }
            }
        ];

        var layout = {
            title: "Anxiety in AIDS Patients by Race",
            height: 400,
            width: 500,
        }

        Plotly.newPlot('mentalHealthAnxiety', data, layout);
    });

    //    END MENTAL HEALTH VERSUS RACE //

    //    MENTAL HEALTH VERSUS EDUCATION //
    // Depression Education
    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/AIDSHIVData/master/depressionEducation.csv", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                values: cellVals[1],
                labels: cellVals[0],
                type: 'pie',
//                marker: {
//                    colors: ['rgb: 230,159,0', 'rgb: 86,180,233','rgb: 0,158,115','rgb: 240,228,66','rgb: 0,114,178','rgb: 213,94,0','rgb: 204,121,167','rgb: 0,50,100','rgb: 0,50,100']
//                }
            }
        ];
        var data = [
            {
                values: cellVals[1],
                labels: cellVals[0],
                type: 'pie',
//                marker: {
//                    colors: ['rgb: 230,159,0', 'rgb: 86,180,233','rgb: 0,158,115','rgb: 240,228,66','rgb: 0,114,178','rgb: 213,94,0','rgb: 204,121,167','rgb: 0,50,100','rgb: 0,50,100']
//                }
            }
        ];

        var layout = {
            title: "Depression in AIDS Patients by Education Level",
            height: 400,
            width: 500,
        }

        Plotly.newPlot('depressionEducation', data, layout);
    });

    // Anxiety Education
    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/AIDSHIVData/master/anxietyEducation.csv", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                values: cellVals[1],
                labels: cellVals[0],
                type: 'pie',
//                marker: {
//                    colors: ['rgb: 230,159,0', 'rgb: 86,180,233','rgb: 0,158,115','rgb: 240,228,66','rgb: 0,114,178','rgb: 213,94,0','rgb: 204,121,167','rgb: 0,50,100','rgb: 0,50,100']
//                }
            }
        ];
        var data = [
            {
                values: cellVals[1],
                labels: cellVals[0],
                type: 'pie',
//                marker: {
//                    colors: ['rgb: 230,159,0', 'rgb: 86,180,233','rgb: 0,158,115','rgb: 240,228,66','rgb: 0,114,178','rgb: 213,94,0','rgb: 204,121,167','rgb: 0,50,100','rgb: 0,50,100']
//                }
            }
        ];

        var layout = {
            title: "Anxiety in AIDS Patients by Education Level",
            height: 400,
            width: 500,
        }

        Plotly.newPlot('anxietyEducation', data, layout);
    });

    // Other MH Issues by Education Level
    // Anxiety Education
    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/AIDSHIVData/master/otherMHEducation.csv", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                values: cellVals[1],
                labels: cellVals[0],
                type: 'pie',
//                marker: {
//                    colors: ['rgb: 230,159,0', 'rgb: 86,180,233','rgb: 0,158,115','rgb: 240,228,66','rgb: 0,114,178','rgb: 213,94,0','rgb: 204,121,167','rgb: 0,50,100','rgb: 0,50,100']
//                }
            }
        ];
        var data = [
            {
                values: cellVals[1],
                labels: cellVals[0],
                type: 'pie',
//                marker: {
//                    colors: ['rgb: 230,159,0', 'rgb: 86,180,233','rgb: 0,158,115','rgb: 240,228,66','rgb: 0,114,178','rgb: 213,94,0','rgb: 204,121,167','rgb: 0,50,100','rgb: 0,50,100']
//                }
            }
        ];

        var layout = {
            title: "Other Mental Health Issues in AIDS Patients by Education Level",
            height: 400,
            width: 500,
        }

        Plotly.newPlot('otherMHEducation', data, layout);
    });
    // End otherMHEducation


    // OTHER MENTAL HEALTH BY RACE
    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/AIDSHIVData/master/otherMHRace.csv", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                values: cellVals[1],
                labels: cellVals[0],
                type: 'pie',
//                marker: {
//                    colors: ['rgb: 230,159,0', 'rgb: 86,180,233','rgb: 0,158,115','rgb: 240,228,66','rgb: 0,114,178','rgb: 213,94,0','rgb: 204,121,167','rgb: 0,50,100','rgb: 0,50,100']
//                }
            }
        ];
        var data = [
            {
                values: cellVals[1],
                labels: cellVals[0],
                type: 'pie',
//                marker: {
//                    colors: ['rgb: 230,159,0', 'rgb: 86,180,233','rgb: 0,158,115','rgb: 240,228,66','rgb: 0,114,178','rgb: 213,94,0','rgb: 204,121,167','rgb: 0,50,100','rgb: 0,50,100']
//                }
            }
        ];

        var layout = {
            title: "Other Mental Health Issues in AIDS Patients by Race",
            height: 400,
            width: 500,
        }

        Plotly.newPlot('mentalHealthOtherMH', data, layout);
    });

    //    END MENTAL HEALTH VERSUS EDUCATION //

</script>

<!-- Primary Care Charts -->
<script>
    var data = [{
        values: [346, 52],
        labels: ['Have Access', 'Do Not Have Access'],
        type: 'pie'
    }];

    var layout = {
        title: "People with HIV Who Have Access to Primary Care",
        height: 400,
        width: 500,
        marker: {
            colors: ['rgb: 230,159,0', 'rgb: 86,180,233']
        }
    };

    Plotly.newPlot('primaryCare', data, layout);

    //    Vs Race
        Plotly.d3.csv("https://raw.githubusercontent.com/awyz/AIDSHIVData/master/primaryCareRace.csv", function(err, rows){

            function getData(rows, key) {
                return rows.map(function(specificRow) {
                    return specificRow[key];
                });
            }

            var headerRow = Plotly.d3.keys(rows[0]);
            var headerVals = [];
            var cellVals = [];
            var sumArr = [];

            for (i = 0; i < headerRow.length; i++) {
                headerVal = [headerRow[i]];
                headerVals[i] = headerVal;
                cellVal = getData(rows, headerRow[i]);
                cellVals[i] = cellVal;
            }

            for (j = 0; j < cellVals[1].length; j++){
                var sum = parseInt(cellVals[1][j]);
                sumArr.push(sum);
            }

            cellVals.push(sumArr);

            var data = [
                {
                    x: cellVals[0],
                    y: cellVals[1],
                    name: 'Without Care',
                    type: 'bar',
                    marker: {
                        color: 'rgba(86, 180, 233, 0.85)'
                    }
                },
                {
                    x: cellVals[0],
                    y: [74,157,12,36,16,0,24,31,27,9,2,4,2,24],
                    name: 'With Care',
                    type: 'bar'
                }
            ];

            var layout = {
                title: "Patients and Primary Care by Race",
                height: 500,
                width: 500,
                xaxis: { title: 'Race'},
                yaxis: { title: 'Number of People'},
                barmode: 'stack'
            }

            Plotly.newPlot('primaryRace', data, layout);
        });

        // Vs Education
    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/AIDSHIVData/master/noPrimaryCareEducation", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                x: cellVals[0],
                y: cellVals[1],
                name: 'Without Care',
                type: 'bar',
                marker: {
                    color: 'rgba(86, 180, 233, 0.85)'
                }
            },
            {
                x: cellVals[0],
                y: [20,75,128,63,16,38],
                name: 'With Care',
                type: 'bar'
            }
        ];

        var layout = {
            title: "Patients and Primary Care by Education Level",
            height: 500,
            width: 500,
            xaxis: { title: 'Degree'},
            yaxis: { title: 'Number of People'},
            barmode: 'stack'
        }

        Plotly.newPlot('primaryEducation', data, layout);
    });
<!-- Primary Care Charts -->

</script>

<!-- Substance Abuse Charts -->
<script>

    Plotly.d3.csv("https://raw.githubusercontent.com/awyz/AIDSHIVData/master/substanceAbuse.csv", function(err, rows){

            function getData(rows, key) {
                return rows.map(function(specificRow) {
                    return specificRow[key];
                });
            }

            var headerRow = Plotly.d3.keys(rows[0]);
            var headerVals = [];
            var cellVals = [];
            var sumArr = [];

            for (i = 0; i < headerRow.length; i++) {
                headerVal = [headerRow[i]];
                headerVals[i] = headerVal;
                cellVal = getData(rows, headerRow[i]);
                cellVals[i] = cellVal;
            }

            for (j = 0; j < cellVals[1].length; j++){
                var sum = parseInt(cellVals[1][j]);
                sumArr.push(sum);
            }

            cellVals.push(sumArr);

            var data = [
                {
                    values: cellVals[1],
                    labels: cellVals[0],
                    type: 'pie',
                    marker: {
                        colors: ['rgb(247,252,253)', 'rgb(229,245,249)','rgb(204,236,230)','rgb(153,216,201)','rgb(102,194,164)','rgb(65,174,118)','rgb(35,139,69)','rgb(0,109,44)','rgb(0,68,27)']
                    }
                }
            ];

            var layout = {
                title: "Substances Used Among HIV Patients",
                height: 400,
                width: 500,
            }

            Plotly.newPlot('substance', data, layout);
        });

    // By Race


    Plotly.d3.csv("    https://raw.githubusercontent.com/awyz/AIDSHIVData/master/substanceRace.csv", function(err, rows){

        function getData(rows, key) {
            return rows.map(function(specificRow) {
                return specificRow[key];
            });
        }

        var headerRow = Plotly.d3.keys(rows[0]);
        var headerVals = [];
        var cellVals = [];
        var sumArr = [];

        for (i = 0; i < headerRow.length; i++) {
            headerVal = [headerRow[i]];
            headerVals[i] = headerVal;
            cellVal = getData(rows, headerRow[i]);
            cellVals[i] = cellVal;
        }

        for (j = 0; j < cellVals[1].length; j++){
            var sum = parseInt(cellVals[1][j]);
            sumArr.push(sum);
        }

        cellVals.push(sumArr);

        var data = [
            {
                y: cellVals[1],
                x: cellVals[0],
                mode: 'markers',
                marker: {
                    size: cellVals[1]
                }
            }
        ];

        var layout = {
            title: "Substances Used By Race",
            height: 400,
            width: 500,
            yaxis: { title: 'Number of People'}
        }

        Plotly.newPlot('substanceRace', data, layout);
    });

    // Substance abuse by education
        Plotly.d3.csv("https://raw.githubusercontent.com/awyz/AIDSHIVData/master/substanceEducation.csv", function(err, rows){

            function getData(rows, key) {
                return rows.map(function(specificRow) {
                    return specificRow[key];
                });
            }

            var headerRow = Plotly.d3.keys(rows[0]);
            var headerVals = [];
            var cellVals = [];
            var sumArr = [];

            for (i = 0; i < headerRow.length; i++) {
                headerVal = [headerRow[i]];
                headerVals[i] = headerVal;
                cellVal = getData(rows, headerRow[i]);
                cellVals[i] = cellVal;
            }

            for (j = 0; j < cellVals[1].length; j++){
                var sum = parseInt(cellVals[1][j]);
                sumArr.push(sum);
            }

            cellVals.push(sumArr);

            var data = [
                {
                    y: cellVals[1],
                    x: cellVals[0],
                    mode: 'markers',
                    marker: {
                        size: cellVals[1]
                    }
                }
            ];

            var layout = {
                title: "Substances Used By Education Level",
                height: 400,
                width: 500,
                yaxis: { title: 'Number of People'}
            }

            Plotly.newPlot('substanceEducation', data, layout);
        });

</script>
<script>
				//locations for treatment
				var data = [{
					//couldn't find clint spencer clinic Kona
					type:'scattermapbox',
					lat:['19.643776', '20.887951','21.971676','21.297346'],
					lon:[' -155.996775',' -156.500427','-159.376706','-157.862214'],
					mode:'markers',
					marker: {
						size:14
					},
					text:['Hawaii Island HIV/AIDS Foundation (HIHAF)','Maui AIDS Foundation','Malama Pono (Kauai)',
					'Life Foundation']
				}]
				
				var layout = {
					title: 'Where to Recieve Care',
					autosize: true,
					hovermode:'closest',
					mapbox: {
						bearing:0,
						center: {
							lat: 19.8968,
							lon: -155.5828
						},
						pitch:0,
						zoom:5
					},
				}

					Plotly.setPlotConfig({
						mapboxAccessToken: 'pk.eyJ1IjoicWF1Y2hpZGEiLCJhIjoiY2pubWpkM3JhMDQzYjNrbW1idWI4bzN0ZiJ9.YkpYWzAkP3MF8usE6Op9Ig'})
					

				Plotly.plot('myDiv5', data, layout)
</script>

</html>